<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exemplo - Sistema de Acompanhamento</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .example-box { background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #007bff; }
        .code { background: #f1f3f4; padding: 10px; border-radius: 4px; font-family: 'Courier New', monospace; }
        .button { display: inline-block; padding: 10px 20px; background: #007bff; color: white; text-decoration: none; border-radius: 4px; margin: 5px; }
        .button:hover { background: #0056b3; }
        .success { border-left-color: #28a745; }
        .warning { border-left-color: #ffc107; }
        .info { border-left-color: #17a2b8; }
    </style>
</head>
<body>
    <h1>üöÄ Sistema de Acompanhamento de Pedidos</h1>

    <p>Este exemplo demonstra como usar o sistema completo de acompanhamento de pedidos via c√≥digo de acesso.</p>

    <div class="example-box success">
        <h2>‚úÖ O que foi criado:</h2>
        <ul>
            <li><strong>Tela de Valida√ß√£o</strong>: /validacao-acesso</li>
            <li><strong>Tela de Acompanhamento</strong>: /acompanhamento/{hash}</li>
            <li><strong>Branding Personalizado</strong>: Cores e logo da empresa</li>
            <li><strong>Layout Responsivo</strong>: Funciona em desktop e mobile</li>
            <li><strong>Tema Claro/Escuro</strong>: Altern√¢ncia de temas</li>
            <li><strong>Mapa Interativo</strong>: Localiza√ß√£o GPS do ve√≠culo</li>
            <li><strong>Abas Completas</strong>: Todas as informa√ß√µes do modal TMS</li>
        </ul>
    </div>

    <div class="example-box info">
        <h2>üåê URLs de Acesso:</h2>
        <div class="code">
            <strong>Valida√ß√£o:</strong> http://localhost:3000/validacao-acesso<br>
            <strong>Acompanhamento:</strong> http://localhost:3000/acompanhamento/abc123def456
        </div>

        <p>
            <a href="/validacao-acesso" class="button">üîë Testar Valida√ß√£o</a>
            <a href="/acompanhamento/exemplo-hash-123" class="button">üëÄ Ver Acompanhamento</a>
        </p>
    </div>

    <div class="example-box warning">
        <h2>‚ö†Ô∏è Pr√≥ximos Passos (Backend):</h2>
        <ol>
            <li><strong>Criar APIs de Valida√ß√£o</strong>
                <div class="code">
POST /api/acompanhamento/check-access<br>
POST /api/acompanhamento/validate-access<br>
GET  /api/acompanhamento/tracking/{hash}
                </div>
            </li>

            <li><strong>Criar Tabela MySQL</strong>
                <div class="code">
CREATE TABLE acompanhamento_acessos (<br>
&nbsp;&nbsp;&nbsp;&nbsp;id INT AUTO_INCREMENT PRIMARY KEY,<br>
&nbsp;&nbsp;&nbsp;&nbsp;codigo_acesso VARCHAR(50) UNIQUE,<br>
&nbsp;&nbsp;&nbsp;&nbsp;url_hash VARCHAR(100) UNIQUE,<br>
&nbsp;&nbsp;&nbsp;&nbsp;nomovtra VARCHAR(20),<br>
&nbsp;&nbsp;&nbsp;&nbsp;data_criacao TIMESTAMP DEFAULT NOW(),<br>
&nbsp;&nbsp;&nbsp;&nbsp;data_expiracao TIMESTAMP<br>
);
                </div>
            </li>

            <li><strong>Integrar com Firebird</strong>
                <div class="code">
// Validar c√≥digo no banco Firebird<br>
// Retornar dados do pedido (nomovtra, empresa, etc)<br>
// Gerar hash √∫nico para URL
                </div>
            </li>
        </ol>

        <p>üìÑ Ver detalhes completos em: <strong>BACKEND_APIS.md</strong></p>
    </div>

    <div class="example-box">
        <h2>üéØ Fluxo Completo:</h2>

        <h3>1. Sistema Externo (Email)</h3>
        <div class="code">
// Gerar c√≥digo<br>
const code = "TMS2024" + Math.random().toString().slice(2,8);<br>
<br>
// Enviar email<br>
sendEmail({<br>
&nbsp;&nbsp;&nbsp;&nbsp;to: "cliente@email.com",<br>
&nbsp;&nbsp;&nbsp;&nbsp;subject: "Acompanhe seu pedido #123456",<br>
&nbsp;&nbsp;&nbsp;&nbsp;html: `<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C√≥digo de acesso: <strong>${code}</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Link: <a href="https://dominio.com.br/validacao-acesso">Clique aqui</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;`<br>
});
        </div>

        <h3>2. Cliente Acessa</h3>
        <div class="code">
1. Cliente recebe email<br>
2. Clica no link ‚Üí /validacao-acesso<br>
3. Insere c√≥digo recebido<br>
4. Sistema valida (MySQL ‚Üí Firebird)<br>
5. Gera URL √∫nica: /acompanhamento/abc123def456<br>
6. Redireciona automaticamente
        </div>

        <h3>3. Visualiza√ß√£o</h3>
        <div class="code">
‚úÖ Header com logo e nome da empresa<br>
‚úÖ Informa√ß√µes completas do pedido<br>
‚úÖ Mapa com localiza√ß√£o GPS<br>
‚úÖ Abas: Informa√ß√µes, Rastreamento, Ocorr√™ncias, Follow-ups, Documentos, Comprovantes<br>
‚úÖ Atualiza√ß√£o autom√°tica (5 min)<br>
‚úÖ Tema claro/escuro<br>
‚úÖ Responsivo (mobile/desktop)
        </div>
    </div>

    <div class="example-box success">
        <h2>üé® Personaliza√ß√£o por Empresa:</h2>
        <div class="code">
// Exemplo de branding salvo no localStorage:<br>
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;"primaryColor": "#6c63ff",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"logo": "https://empresa.com/logo.png",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"companyName": "Transportadora XYZ"<br>
}<br>
<br>
// Aplicado automaticamente em:<br>
‚Ä¢ Cores de bot√µes e elementos<br>
‚Ä¢ Logo no header<br>
‚Ä¢ Badges de status<br>
‚Ä¢ Tema geral da interface
        </div>
    </div>

    <div class="example-box">
        <h2>üì± Recursos Mobile:</h2>
        <ul>
            <li><strong>Layout Adaptativo</strong>: Cards se reorganizam</li>
            <li><strong>Abas Compactas</strong>: Texto reduzido para mobile</li>
            <li><strong>Touch Friendly</strong>: Bot√µes maiores</li>
            <li><strong>Mapa Responsivo</strong>: Altura ajustada</li>
            <li><strong>Performance</strong>: Lazy loading das abas</li>
        </ul>
    </div>

    <div class="example-box info">
        <h2>üîß Como Testar Agora:</h2>
        <ol>
            <li><strong>Iniciar servidor</strong>: <code>npm start</code></li>
            <li><strong>Acessar</strong>: <a href="/validacao-acesso">localhost:3000/validacao-acesso</a></li>
            <li><strong>Ver layout</strong>: Inserir qualquer c√≥digo (ir√° dar erro de API, mas mostra interface)</li>
            <li><strong>Testar tema</strong>: Bot√£o de altern√¢ncia de tema no header</li>
            <li><strong>Mobile</strong>: Redimensionar janela ou usar DevTools</li>
        </ol>
    </div>

    <div class="example-box">
        <h2>üìö Documenta√ß√£o:</h2>
        <ul>
            <li><strong>README_ACOMPANHAMENTO.md</strong> - Guia completo</li>
            <li><strong>BACKEND_APIS.md</strong> - Especifica√ß√£o das APIs</li>
            <li><strong>C√≥digo fonte</strong> - Comentado e organizado</li>
        </ul>
    </div>

    <script>
        // Simular branding de exemplo
        const exampleBranding = {
            primaryColor: "#6c63ff",
            logo: null, // Ser√° definido pela empresa
            companyName: "MM Softwares"
        };

        localStorage.setItem('companyBranding', JSON.stringify(exampleBranding));

        console.log('‚úÖ Branding de exemplo definido:', exampleBranding);
        console.log('üîç Para testar: Acesse /validacao-acesso e veja a personaliza√ß√£o aplicada');
    </script>
</body>
</html>
